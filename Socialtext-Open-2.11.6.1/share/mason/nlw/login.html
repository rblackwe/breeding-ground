<!--
Copyright (C) 2004-2006 by Socialtext, Inc.
 -->
<h3>Log in to Socialtext</h3>

<script type="text/javascript">
push_onload_function(function() {
    var username = document.forms["login"].username;
    if ( username.value.length ) {
       document.forms["login"].password.focus();
    }
    else {
        document.forms["login"].username.focus();
    }
})
</script>

<&| /lib/fill_in_form.mas &>
<form name="login" method="post" action="/nlw/submit/login">
 <input type="hidden" name="redirect_to" value="<% $redirect_to | h %>" />
 <div class="label-value">
  <label for="username"><% $App->username_label %>:</label>
  <input id="username" name="username" type="text" size="30" value="" />
 </div>

 <div class="label-value">
  <label for="password">Password:</label>
  <input id="password" name="password" type="password" size="30" value="" />
 </div>

 <div class="form-element">
  <input class="checkbox" name="remember" type="checkbox" id="remember" value="1" />
  <span class="description">
   <label for="remember">Remember me on this computer.</label>
  </span>
 </div>
 <div class="form-element">
  <input class="button" type="submit" value="Log in" />
 </div>
</form>
</&>
<p><a
    href="<% uri( path  => '/nlw/forgot_password.html',
    query => { redirect_to => $redirect_to } ) %>">I don't know my password.</a></p>

<& /lib/login_message.mas, redirect => $redirect_to &>                          
<%args>
$redirect_to => ''
</%args>

<%init>
$App->css->push('form.css');
</%init>

<%method title>Login</%method>
